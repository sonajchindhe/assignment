<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	$(document).ready(function(){
		$(".limg").hide();
		curpos= 0;
		maxpos = $(".slides").length - 1;
		// alert(maxpos);

		var total = $(".slides").length;
		var size = $(".slides").width();
		var ans = total*size;
		// alert(ans)
		$(".slider").width(ans);

		/*
			0=>0
			1=>1200
			2=>2400
			3=>3600
			x[0]=0   = 1200*0
			x[1]=1200 =1200*1
			x[2]=2400 = 1200*2
			x[3]=3600 = 1200*3
		*/
		var x = new Array();
		$(".slides").each(function(a,b){
			// alert(a);
			// console.log(b);
			// alert($(this).width());

			// alert($(this).width() * a);
			x[a]=$(this).width() * a;
		});

		// console.log(x);


		$(".spcircle").eq(0).css("background","#fff");
		$(".spcircle").eq(0).css("opacity","0.8");

		$(".spcircle").click(function(){
			var cpos = $(this).index();
			curpos = cpos;
			// alert(curpos);
			// alert(cpos)
			// alert(x[cpos]);
			$(".slider").animate({
				"margin-left":-x[cpos]+"px"
			},1000);
			$(".spcircle").css("background","#666");
			$(".spcircle").css("opacity","0.7");

			$(this).css("background","#fff");
			$(this).css("opacity","0.8");

			if(curpos>0){
				$(".limg").fadeIn();
			}
			else{
				$(".limg").fadeOut();	
			}

			if(curpos==maxpos){
				$(".rimg").fadeOut();	
			}
			else{
				$(".rimg").fadeIn();		
			}
		});

		$(".rimg").click(function(){
			// alert(curpos);
			curpos++;
			// alert(curpos);
			$(".slider").animate({
				"margin-left":-x[curpos]+"px"
			},1000);

			if(curpos>0){
				$(".limg").fadeIn();
			}
			else{
				$(".limg").fadeOut();	
			}

			if(curpos==maxpos){
				$(".rimg").fadeOut();	
			}
			else{
				$(".rimg").fadeIn();		
			}

			$(".spcircle").css("background","#666");
			$(".spcircle").css("opacity","0.7");

			$(".spcircle").eq(curpos).css("background","#fff");
			$(".spcircle").eq(curpos).css("opacity","0.8");


		})

		$(".limg").click(function(){
			// alert(curpos);
			curpos--;
			// alert(curpos);
			$(".slider").animate({
				"margin-left":-x[curpos]+"px"
			},1000);

			if(curpos>0){
				$(".limg").fadeIn();
			}
			else{
				$(".limg").fadeOut();	
			}

			if(curpos==maxpos){
				$(".rimg").fadeOut();	
			}
			else{
				$(".rimg").fadeIn();		
			}

			$(".spcircle").css("background","#666");
			$(".spcircle").css("opacity","0.7");

			$(".spcircle").eq(curpos).css("background","#fff");
			$(".spcircle").eq(curpos).css("opacity","0.8");

		})

	});
</script>
<style>
.gallery{
	width:1200px;
	height:500px;
	/*border:5px solid;*/
	overflow: hidden;
	position: relative;
	margin:auto;
}
.slider{
	/*border:4px solid red;*/
	height:500px;
	width:1200px;
}
.slides{
	background: gray;
	height:500px;
	width:1200px;
	float: left;
}
.slides > img{
	height:500px;
	width:1200px;
}

.circle{
	/*border:1px solid;*/
	width:1200px;
	height:30px;
	/*background: #eee;*/
	position: absolute;
	bottom:5%;
	text-align: center;
}	
.spcircle{
	border:1px solid;
	display: inline-block;
	height:30px;
	width:30px;
	background: #666;
	border-radius: 15px;
	opacity: 0.7;
	box-shadow: 1px 2px 4px #aaa;
	margin: 0 0.5%;
}

.limg,.rimg{
	/*border: 1px solid;*/
	position: absolute;
	width:48px;
	height:48px;
	z-index: 10;
	cursor: pointer;
}
.limg{
	left:2%;top:45%;
}
.rimg{
	right:2%;top:45%;
}
</style>
<div class="gallery">
	<div class="slider">
		<div class="slides">
			<img src="images/image1.png" />
		</div>
		<div class="slides">
			<img src="images/image2.png" />
		</div>
		<div class="slides">
			<img src="images/image3.png" />
		</div>
		<div class="slides">
			<img src="images/image4.png" />
		</div>

	</div>

	<div class="circle">
		<span class="spcircle"></span>
		<span class="spcircle"></span>
		<span class="spcircle"></span>
		<span class="spcircle"></span>
	</div>

	<div class="limg">
		<img src="images/left.png">
	</div>
	<div class="rimg">
		<img src="images/right.png">
	</div>

</div>

